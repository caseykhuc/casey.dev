---
title: "Giá»›i thiá»‡u vá» Babel vÃ  Babel plugin"
dateString: "May 08, 2022"
tags: ["frontend", "babel", "babel plugin", "development tools"]
---

Babel lÃ  má»™t cÃ´ng cá»¥ mÃ  mÃ¬nh cÅ©ng nhÆ° cÃ¡c anh em Web Dev thá»i nay nghe vÃ  sá»­ dá»¥ng hÃ ng ngÃ y. Tuy váº­y, hiáº¿m khi mÃ¬nh thá»±c sá»± pháº£i nghÄ© xem cá»¥ thá»ƒ nÃ³ lÃ m cÃ´ng viá»‡c gÃ¬, lÃ m nÃ³ nhÆ° tháº¿ nÃ o vÃ¬ háº§u nhÆ° babel Ä‘Æ°á»£c cÃ i Ä‘áº·t sáºµn trong cÃ¡c cÃ¡c project boilerplate, hoáº·c build tools (vÃ­ dá»¥ nhÆ° create-react-app).

Chá»‰ Ä‘áº¿n khi 1 ngÃ y Ä‘áº¹p trá»i, project cáº§n optimize hoáº·c thay Ä‘á»•i 1 pháº§n gÃ¬ Ä‘Ã³ liÃªn quan Ä‘áº¿n vÃ­ dá»¥ nhÆ° webpack, hoáº·c jest, vÃ  **_something not working ğŸ˜¬ğŸ˜¬_**, ta má»›i pháº£i váº¯t chÃ¢n lÃªn xem cÃ¡c tools mÃ¬nh dÃ¹ng cá»¥ thá»ƒ nÃ³ lÃ m viá»‡c nhÆ° tháº¿ nÃ o, Ä‘á»ƒ cÃ²n biáº¿t mÃ  fix. BÃ i viáº¿t nÃ y ghi láº¡i nhá»¯ng gÃ¬ mÃ¬nh há»c Ä‘Æ°á»£c vá» babel vÃ  cÃ¡ch nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng trong codebase cá»§a project mÃ¬nh Ä‘ang lÃ m.

## Babel lÃ  gÃ¬?

Ban Ä‘áº§u, Babel (tÃªn Ä‘Æ°Æ¡ng thá»i lÃ  6to5) lÃ  má»™t [tranpiler](https://en.wikipedia.org/wiki/Source-to-source_compiler), lÃ m nhiá»‡m vá»¥ chÃ­nh lÃ  translate **_modern Javascript code (ES6+)_** sang 1 version cÅ© hÆ¡n (ES5) mÃ  háº§u háº¿t browsers cÃ³ thá»ƒ cháº¡y Ä‘Æ°á»£c.

<details>
  <summary>
    <i>Hiá»ƒu thÃªm vá» transpiler</i>
  </summary>
  Transpiler khÃ¡c vá»›i compiler (trÃ¬nh biÃªn dá»‹ch) á»Ÿ chá»— nÃ³ chuyá»ƒn Ä‘á»•i tá»« 1 ngÃ´n ngá»¯
  sang 1 ngÃ´n ngá»¯ khÃ¡c *vá»›i Ä‘á»™ abstraction ngang hÃ ng*. VÃ­ dá»¥: Java compiler chuyá»ƒn
  Ä‘á»•i tá»« Java sang bytecode, C compiler chuyá»ƒn Ä‘á»•i C sang assambler. CÃ²n Babel chuyá»ƒn
  Ä‘á»•i tá»« JS sang.. JS, chá»‰ lÃ  Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng 1 quy chuáº©n khÃ¡c.
</details>

CÃ¢u há»i Ä‘áº·t ra lÃ  náº¿u project chá»‰ cáº§n support Chrome, liá»‡u babel cÃ²n cáº§n thiáº¿t khÃ´ng?

CÃ¢u tráº£ lá»i lÃ  cÃ³ vÃ  khÃ´ng. á» thá»i Ä‘iá»ƒm hiá»‡n táº¡i, Babel máº¡nh máº½, lÃ m Ä‘Æ°á»£c ráº¥t nhiá»u Ä‘iá»u hÆ¡n váº­y, vÃ  Ä‘Æ°á»£c coi lÃ  general-purpose JS transformation tool.
DÆ°á»›i Ä‘Ã¢y lÃ  nhá»¯ng Ä‘iá»u Babel Ä‘ang giÃºp cho project cá»§a mÃ¬nh:

- Convert JSX syntax! (part of preset-react)
- preset-react
  - @babel/plugin-transform-react-display-name: Add displayName to React.createClass calls

## Babel plugin

- By default, babel doesn't do anything at all. Until you config plugins
- Presets: Collection of plugin

![Compilation steps](compilation-steps.png)

- Parse: Code => AST (Abstract syntax tree)
  - AST explorer
- Traverse & Transform: Update to AST
- Generate: Take to updated AST => Generate back to code

<details>
  <summary>
    <i>Hiá»ƒu thÃªm vá» AST</i>
  </summary>
  Abstract Syntax Tree (AST) lÃ  má»™t cÃ¡ch Ä‘á»ƒ biá»ƒu diá»…n source code dÆ°á»›i dáº¡ng tree.
  Má»™t use case ná»•i báº­t nháº¥t cá»§a AST chÃ­nh lÃ  Ä‘á»ƒ compiler cÃ³ thá»ƒ dá»‹ch source code
  tá»« ngÃ´n ngá»¯ nÃ y sang ngÃ´n ngá»¯ khÃ¡c. HÃ£y thá»­ vÃ o trang web sau vÃ  thá»­ hover vÃ o
  cÃ¡c node trong pháº§n tree bÃªn pháº£i vÃ  quan sÃ¡t Ä‘oáº¡n code Ä‘Æ°á»£c highlight Ä‘á»ƒ cÃ³ hÃ¬nh
  dung vá» AST nhÃ©: https://astexplorer.net/
  <br />
  <Video src="AST-demo.mov" />
</details>
